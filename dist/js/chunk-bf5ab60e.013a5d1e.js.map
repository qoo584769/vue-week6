{"version":3,"sources":["webpack:///./src/components/front/order.vue?06c1","webpack:///./node_modules/core-js/modules/es.function.name.js","webpack:///./src/components/front/order.vue","webpack:///./src/components/front/order.vue?37d1"],"names":["DESCRIPTORS","defineProperty","f","FunctionPrototype","Function","prototype","FunctionPrototypeToString","toString","nameRE","NAME","configurable","get","call","this","match","error","class","for","CheckOut","errors","id","name","type","placeholder","rules","UserData","data","user","email","ValidateTel","tel","address","message","components","setup","router","CartData","GetCartList","a","then","res","success","alert","catch","err","carts","length","post","push","value","test","render","__scopeId"],"mappings":"kHAAA,W,8CCAA,IAAIA,EAAc,EAAQ,QACtBC,EAAiB,EAAQ,QAAuCC,EAEhEC,EAAoBC,SAASC,UAC7BC,EAA4BH,EAAkBI,SAC9CC,EAAS,wBACTC,EAAO,OAIPT,KAAiBS,KAAQN,IAC3BF,EAAeE,EAAmBM,EAAM,CACtCC,cAAc,EACdC,IAAK,WACH,IACE,OAAOL,EAA0BM,KAAKC,MAAMC,MAAMN,GAAQ,GAC1D,MAAOO,GACP,MAAO,Q,gJChBRC,MAAM,oB,EAEL,eAA4B,SAArBC,IAAI,QAAO,MAAE,G,EAKpB,eAAgC,SAAzBA,IAAI,SAAQ,SAAK,G,EAKxB,eAA2B,SAApBA,IAAI,OAAM,MAAE,G,EAKnB,eAA+B,SAAxBA,IAAI,WAAU,MAAE,G,EAMrB,eAA+B,SAAxBA,IAAI,WAAU,MAAE,G,gKAvB/B,eA+BM,MA/BN,EA+BM,CA9BF,eA6BO,GA7BoB,SAAQ,EAAAC,UAAQ,C,WACzC,gBADcC,EACd,EADcA,OACd,MADoB,CACpB,EACA,eAE4C,GAFrCC,GAAG,OAAOC,KAAK,KAAKC,KAAK,OAAON,MAAK,CAAC,eAAc,cACjCG,EAAO,QAASI,YAAY,SAASC,MAAM,W,WAC1D,EAAAC,SAASC,KAAKC,KAAKN,K,qDAAnB,EAAAI,SAASC,KAAKC,KAAKN,KAAI,K,+BAClC,eAAgE,GAAlDA,KAAK,KAAKL,MAAM,qBAC9B,EACA,eAE6C,GAFtCI,GAAG,QAAQC,KAAK,QAAQC,KAAK,QAAQN,MAAK,CAAC,eAAc,cACtCG,EAAO,WAAYI,YAAY,YAAYC,MAAM,iB,WAChE,EAAAC,SAASC,KAAKC,KAAKC,M,qDAAnB,EAAAH,SAASC,KAAKC,KAAKC,MAAK,K,+BACnC,eAAmE,GAArDP,KAAK,QAAQL,MAAM,qBACjC,EACA,eAE2C,GAFpCI,GAAG,MAAMC,KAAK,KAAKC,KAAK,MAAMN,MAAK,CAAC,eAAc,cAC/BG,EAAO,QAASI,YAAY,SAAUC,MAAO,EAAAK,Y,WAC5D,EAAAJ,SAASC,KAAKC,KAAKG,I,qDAAnB,EAAAL,SAASC,KAAKC,KAAKG,IAAG,K,uCACjC,eAAgE,GAAlDT,KAAK,KAAKL,MAAM,qBAC9B,EACA,eAE+C,GAFxCI,GAAG,UAAUC,KAAK,KAAKC,KAAK,OAAON,MAAK,CAAC,eAAc,cACpCG,EAAO,QAASI,YAAY,SAASC,MAAM,W,WAC1D,EAAAC,SAASC,KAAKC,KAAKI,Q,qDAAnB,EAAAN,SAASC,KAAKC,KAAKI,QAAO,K,+BACrC,eAAgE,GAAlDV,KAAK,KAAKL,MAAM,qBAC9B,eAGI,UAFF,E,eACA,eAAkE,YAAxDI,GAAG,U,qDAAmB,EAAAK,SAASC,KAAKM,QAAO,K,mBAArB,EAAAP,SAASC,KAAKM,aAEhD,eAGS,UAHDV,KAAK,SAASN,MAAM,kBAAmB,SAAM,8CAAU,EAAAE,UAAA,EAAAA,SAAA,qBAAQ,eACI,SAE3E,Q,mFAeO,GAEbe,WAAY,GAIZC,MANa,WAOX,IAAMC,EAAS,iBAETV,EAAW,eAAS,CACxBC,KAAM,CACJC,KAAM,GACNK,QAAS,MAIPI,EAAW,eAAS,CACxBV,KAAM,KAGFW,EAAc,WAClB,EAAAC,EAAM3B,IAAN,UAAa,oDAAb,UAAqD4B,MAAK,SAACC,GACrDA,EAAId,KAAKe,QACXL,EAASV,KAAOc,EAAId,KAAKA,KAEzBgB,MAAMF,EAAId,KAAKM,YAEhBW,OAAM,SAACC,GACRF,MAAME,EAAIZ,aAIRd,EAAW,WACoB,IAA/BkB,EAASV,KAAKmB,MAAMC,OAEtB,EAAAR,EAAMS,KAAN,UAAc,oDAAd,UAAuDtB,GACpDc,MAAK,SAACC,GACL,GAAIA,EAAId,KAAKe,QAKX,OAFAC,MAAMF,EAAId,KAAKM,cACfG,EAAOa,KAAK,CAAE3B,KAAM,gBAGtBqB,MAAMF,EAAId,KAAKM,YAEhBW,OAAM,SAACC,GAENF,MAAME,EAAIZ,YAIdU,MAAM,WAKJb,EAAc,SAACoB,GACnB,OAAKA,IAGA,YAAYC,KAAKD,IACb,WAHA,WAYX,OAJA,gBAAU,WACRZ,OAGK,CACLZ,WACAP,WACAW,iB,UClHN,EAAOsB,OAASA,EAChB,EAAOC,UAAY,kBAEJ","file":"js/chunk-bf5ab60e.013a5d1e.js","sourcesContent":["export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./order.vue?vue&type=style&index=0&id=1e498187&lang=scss&scoped=true\"","var DESCRIPTORS = require('../internals/descriptors');\nvar defineProperty = require('../internals/object-define-property').f;\n\nvar FunctionPrototype = Function.prototype;\nvar FunctionPrototypeToString = FunctionPrototype.toString;\nvar nameRE = /^\\s*function ([^ (]*)/;\nvar NAME = 'name';\n\n// Function instances `.name` property\n// https://tc39.es/ecma262/#sec-function-instances-name\nif (DESCRIPTORS && !(NAME in FunctionPrototype)) {\n  defineProperty(FunctionPrototype, NAME, {\n    configurable: true,\n    get: function () {\n      try {\n        return FunctionPrototypeToString.call(this).match(nameRE)[1];\n      } catch (error) {\n        return '';\n      }\n    }\n  });\n}\n","<template>\n  <div class=\"container m-auto\">\n      <Form v-slot=\"{ errors }\" @submit=\"CheckOut\">\n        <label for=\"name\">姓名</label>\n        <Field id=\"name\" name=\"姓名\" type=\"text\" class=\"form-control\"\n          :class=\"{ 'is-invalid': errors['姓名'] }\" placeholder=\"請輸入 姓名\" rules=\"required\"\n          v-model=\"UserData.data.user.name\"></Field>\n        <ErrorMessage name=\"姓名\" class=\"invalid-feedback\"></ErrorMessage>\n        <label for=\"email\">Email</label>\n        <Field id=\"email\" name=\"email\" type=\"email\" class=\"form-control\"\n          :class=\"{ 'is-invalid': errors['email'] }\" placeholder=\"請輸入 Email\" rules=\"email|required\"\n          v-model=\"UserData.data.user.email\"></Field>\n        <ErrorMessage name=\"email\" class=\"invalid-feedback\"></ErrorMessage>\n        <label for=\"tel\">電話</label>\n        <Field id=\"tel\" name=\"電話\" type=\"tel\" class=\"form-control\"\n          :class=\"{ 'is-invalid': errors['電話'] }\" placeholder=\"請輸入 電話\" :rules=\"ValidateTel\"\n          v-model=\"UserData.data.user.tel\"></Field>\n        <ErrorMessage name=\"電話\" class=\"invalid-feedback\"></ErrorMessage>\n        <label for=\"address\">地址</label>\n        <Field id=\"address\" name=\"地址\" type=\"text\" class=\"form-control\"\n          :class=\"{ 'is-invalid': errors['地址'] }\" placeholder=\"請輸入 地址\" rules=\"required\"\n          v-model=\"UserData.data.user.address\"></Field>\n        <ErrorMessage name=\"地址\" class=\"invalid-feedback\"></ErrorMessage>\n        <p>\n          <label for=\"message\">備註</label>\n          <textarea id=\"message\" v-model=\"UserData.data.message\"></textarea>\n        </p>\n        <button type=\"submit\" class=\"btn btn-primary\" @submit.prevent=\"CheckOut\">\n          <!-- <i class=\"fas fa-spinner fa-pulse\" v-if=\"statusid.checkout\"></i> -->\n          建立訂單\n        </button>\n      </Form>\n  </div>\n</template>\n\n<script>\nimport {\n  onMounted,\n  reactive,\n} from '@vue/runtime-core';\nimport axios from 'axios';\nimport {\n  useRouter,\n} from 'vue-router';\n\nexport default {\n\n  components: {\n\n  },\n\n  setup() {\n    const router = useRouter();\n    //   使用者資料\n    const UserData = reactive({\n      data: {\n        user: {},\n        message: '',\n      },\n    });\n    //   購物車API參數\n    const CartData = reactive({\n      data: {},\n    });\n      //   取得購物車列表\n    const GetCartList = () => {\n      axios.get(`${process.env.VUE_APP_ALL_APIPATH}/cart`).then((res) => {\n        if (res.data.success) {\n          CartData.data = res.data.data;\n        } else {\n          alert(res.data.message);\n        }\n      }).catch((err) => {\n        alert(err.message);\n      });\n    };\n      // 結帳付款\n    const CheckOut = () => {\n      if (CartData.data.carts.length !== 0) {\n        // isloading.value = true;\n        axios.post(`${process.env.VUE_APP_ALL_APIPATH}/order`, UserData)\n          .then((res) => {\n            if (res.data.success) {\n            //   statusid.checkout = false;\n            //   isloading.value = false;\n              alert(res.data.message);\n              router.push({ name: 'all-product' });\n              return;\n            }\n            alert(res.data.message);\n          })\n          .catch((err) => {\n            // statusid.checkout = false;\n            alert(err.message);\n          });\n      } else {\n        // statusid.checkout = false;\n        alert('購物車無商品');\n      }\n    };\n\n    // 驗證手機的函式\n    const ValidateTel = (value) => {\n      if (!value) {\n        return '電話號碼為必填';\n      }\n      if (!/^09\\d{8}$/.test(value)) {\n        return '電話號碼格式錯誤';\n      }\n      return true;\n    };\n\n    onMounted(() => {\n      GetCartList();\n    });\n\n    return {\n      UserData,\n      CheckOut,\n      ValidateTel,\n    };\n  },\n\n};\n\n</script>\n\n<style lang=\"scss\" scoped>\n  * {\n    margin: 0;\n    padding: 0;\n    text-decoration: none;\n    list-style: none;\n  }\n\n</style>\n","import { render } from \"./order.vue?vue&type=template&id=1e498187&scoped=true\"\nimport script from \"./order.vue?vue&type=script&lang=js\"\nexport * from \"./order.vue?vue&type=script&lang=js\"\n\nimport \"./order.vue?vue&type=style&index=0&id=1e498187&lang=scss&scoped=true\"\nscript.render = render\nscript.__scopeId = \"data-v-1e498187\"\n\nexport default script"],"sourceRoot":""}